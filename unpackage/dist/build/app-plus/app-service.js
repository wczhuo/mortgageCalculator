if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const a=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a};const n=a({data:()=>({currentTab:1,resultTab:1,providentFund:{amount:51,interestRate:3.1,years:29},commercialLoans:{amount:21,interestRate:3.95,years:29},benxiList:null,benjinList:null,resultList:[]}),onLoad(){uni.getStorageSync("providentFund")&&(this.providentFund=uni.getStorageSync("providentFund")),uni.getStorageSync("commercialLoans")&&(this.commercialLoans=uni.getStorageSync("commercialLoans"))},methods:{switchTab(e){this.currentTab=e},switchResultTab(e){this.resultTab=e,1==this.resultTab?this.resultList=this.benxiList.mouthdataArray:this.resultList=this.benjinList.mouthdataArray,t("log","at pages/index/index.vue:170",this.resultList),this.$forceUpdate()},navigateTo(e,a=null){t("log","at pages/index/index.vue:174",e,a),uni.setStorageSync("queryString",a),uni.navigateTo({url:e})},startCalculate(){let e=1==this.currentTab?this.providentFund:this.commercialLoans;switch(3==this.currentTab&&(e=this.providentFund),e.tab=this.currentTab,this.currentTab){case 1:this.calculateProvidentFund(e);break;case 2:this.calculateCommercialLoans(e);break;case 3:this.calculatePortfolioLoan(this.providentFund,this.commercialLoans)}uni.setStorageSync("providentFund",this.providentFund),uni.setStorageSync("commercialLoans",this.commercialLoans)},calculatePortfolioLoan(e,a){let n=this.benxi(1,e.amount,e.years,e.interestRate),l=this.benjin(1,e.amount,e.years,e.interestRate),r=this.benxi(1,a.amount,a.years,a.interestRate),o=this.benjin(1,a.amount,a.years,a.interestRate),i=Math.max(e.years,a.years),s={mouthdataArray:[]};for(let t=0;t<12*i;t++)s.mouthdataArray[t]={},s.mouthdataArray[t].yuegong=parseFloat(n.mouthdataArray[t].yuegong)+parseFloat(r.mouthdataArray[t].yuegong),s.mouthdataArray[t].yuelixi=parseFloat(n.mouthdataArray[t].yuelixi)+parseFloat(r.mouthdataArray[t].yuelixi),s.mouthdataArray[t].yuebenjin=parseFloat(n.mouthdataArray[t].yuebenjin)+parseFloat(r.mouthdataArray[t].yuebenjin),s.mouthdataArray[t].leftFund=parseFloat(n.mouthdataArray[t].leftFund)+parseFloat(r.mouthdataArray[t].leftFund),s.mouthdataArray[t].yuegong=s.mouthdataArray[t].yuegong.toFixed(2),s.mouthdataArray[t].yuelixi=s.mouthdataArray[t].yuelixi.toFixed(2),s.mouthdataArray[t].yuebenjin=s.mouthdataArray[t].yuebenjin.toFixed(2),s.mouthdataArray[t].leftFund=s.mouthdataArray[t].leftFund.toFixed(2);let c={mouthdataArray:[]};for(let t=0;t<12*i;t++)c.mouthdataArray[t]={},c.mouthdataArray[t].yuegong=parseFloat(l.mouthdataArray[t].yuegong)+parseFloat(o.mouthdataArray[t].yuegong),c.mouthdataArray[t].yuelixi=parseFloat(l.mouthdataArray[t].yuelixi)+parseFloat(o.mouthdataArray[t].yuelixi),c.mouthdataArray[t].yuebenjin=parseFloat(l.mouthdataArray[t].yuebenjin)+parseFloat(o.mouthdataArray[t].yuebenjin),c.mouthdataArray[t].leftFund=parseFloat(l.mouthdataArray[t].leftFund)+parseFloat(o.mouthdataArray[t].leftFund),c.mouthdataArray[t].yuegong=c.mouthdataArray[t].yuegong.toFixed(2),c.mouthdataArray[t].yuelixi=c.mouthdataArray[t].yuelixi.toFixed(2),c.mouthdataArray[t].yuebenjin=c.mouthdataArray[t].yuebenjin.toFixed(2),c.mouthdataArray[t].leftFund=c.mouthdataArray[t].leftFund.toFixed(2);this.benjinList=c,this.benxiList=s,this.resultList=this.benxiList.mouthdataArray,t("log","at pages/index/index.vue:253",this.resultList)},calculateCommercialLoans(e=null){this.benxiList=this.benxi(1,e.amount,e.years,e.interestRate),this.benjinList=this.benjin(1,e.amount,e.years,e.interestRate),this.resultList=this.benxiList.mouthdataArray,t("log","at pages/index/index.vue:259",this.benxiList),t("log","at pages/index/index.vue:260",this.benjinList)},calculateProvidentFund(e=null){t("log","at pages/index/index.vue:263",e),this.benxiList=this.benxi(1,e.amount,e.years,e.interestRate),this.benjinList=this.benjin(1,e.amount,e.years,e.interestRate),this.resultList=this.benxiList.mouthdataArray,t("log","at pages/index/index.vue:267",this.benxiList),t("log","at pages/index/index.vue:268",this.benjinList)},benjin(e,t,a,n){for(var l=12*parseInt(a),r=parseFloat(n)/12/100,o=1e4*parseFloat(t),i=0,s=o/l,c=s*r,u=(s+o*r+o/l*(1+r))/2*l-o,d=u+o,m=u+o,h=[],v=(new Date).getMonth(),y=0,w=1;w<=l;w++){y=v+w,(y-=12*Math.floor(w/12))>12&&(y-=12);var p=(o-(i=s*(w-1)))*r;(m-=s+(o-i)*r)<0&&(m=0),h[w-1]={monthName:y+"月",yuegong:(p+s).toFixed(2),yuelixi:p.toFixed(2),yuebenjin:s.toFixed(2),leftFund:m.toFixed(2)}}return{totalLixi:u,totalPrice:d,yuegongdijian:c,mouthdataArray:h,totalDknum:t,year:a}},benxi(e,t,a,n){for(var l=12*parseInt(a),r=parseFloat(n)/12/100,o=1e4*parseFloat(t),i=o*r*Math.pow(1+r,l)/(Math.pow(1+r,l)-1),s=l*i-o,c=s+o,u=s+o,d=[],m=(new Date).getMonth(),h=0,v=1;v<=l;v++){h=m+v,(h-=12*Math.floor(v/12))>12&&(h-=12);var y=o*r*(Math.pow(1+r,l)-Math.pow(1+r,v-1))/(Math.pow(1+r,l)-1),w=o*r*Math.pow(1+r,v-1)/(Math.pow(1+r,l)-1);(u-=y+w)<0&&(u=0),d[v-1]={yuegong:i.toFixed(2),monthName:h+"月",yuelixi:y.toFixed(2),yuebenjin:w.toFixed(2),leftFund:u.toFixed(2)}}return{yuegong:i,totalLixi:s,totalPrice:c,mouthdataArray:d,totalDknum:t,year:a}}}},[["render",function(t,a,n,l,r,o){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("view",{class:"content flex-column"},[e.createElementVNode("view",{class:"tab-list flex-row mt-40"},[e.createElementVNode("text",{class:e.normalizeClass(["item",1==r.currentTab?"active":""]),onClick:a[0]||(a[0]=e=>o.switchTab(1))},"公积金贷款",2),e.createElementVNode("text",{class:e.normalizeClass(["item",2==r.currentTab?"active":""]),onClick:a[1]||(a[1]=e=>o.switchTab(2))},"商业贷款",2),e.createElementVNode("text",{class:e.normalizeClass(["item",3==r.currentTab?"active":""]),onClick:a[2]||(a[2]=e=>o.switchTab(3))},"组合贷款",2)]),1==r.currentTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"flex-column gjj-list"},[e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"贷款总额"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>r.providentFund.amount=e)},null,512),[[e.vModelText,r.providentFund.amount]]),e.createElementVNode("text",null," (万)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"按揭年数"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>r.providentFund.years=e)},null,512),[[e.vModelText,r.providentFund.years]]),e.createElementVNode("text",null," (年)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"年利率"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>r.providentFund.interestRate=e)},null,512),[[e.vModelText,r.providentFund.interestRate]]),e.createElementVNode("text",null," (%)")])])])):e.createCommentVNode("",!0),2==r.currentTab?(e.openBlock(),e.createElementBlock("view",{key:1,class:"flex-column sd-list"},[e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"贷款总额"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>r.commercialLoans.amount=e)},null,512),[[e.vModelText,r.commercialLoans.amount]]),e.createElementVNode("text",null," (万)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"按揭年数"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>r.commercialLoans.years=e)},null,512),[[e.vModelText,r.commercialLoans.years]]),e.createElementVNode("text",null," (年)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"年利率"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>r.commercialLoans.interestRate=e)},null,512),[[e.vModelText,r.commercialLoans.interestRate]]),e.createElementVNode("text",null," (%)")])])])):e.createCommentVNode("",!0),3==r.currentTab?(e.openBlock(),e.createElementBlock("view",{key:2,class:"flex-column zhd-list"},[e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"公积金贷款总额"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>r.providentFund.amount=e)},null,512),[[e.vModelText,r.providentFund.amount]]),e.createElementVNode("text",null," (万)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"公积金按揭年数"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>r.providentFund.years=e)},null,512),[[e.vModelText,r.providentFund.years]]),e.createElementVNode("text",null," (年)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"公积金年利率"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>r.providentFund.interestRate=e)},null,512),[[e.vModelText,r.providentFund.interestRate]]),e.createElementVNode("text",null," (%)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"商业贷款总额"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>r.commercialLoans.amount=e)},null,512),[[e.vModelText,r.commercialLoans.amount]]),e.createElementVNode("text",null," (万)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"商贷按揭年数"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>r.commercialLoans.years=e)},null,512),[[e.vModelText,r.commercialLoans.years]]),e.createElementVNode("text",null," (年)")])]),e.createElementVNode("view",{class:"flex-row item"},[e.createElementVNode("view",{class:"left"},"商贷年利率"),e.createElementVNode("view",{class:"right flex-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>r.commercialLoans.interestRate=e)},null,512),[[e.vModelText,r.commercialLoans.interestRate]]),e.createElementVNode("text",null," (%)")])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"start mt-20"},[e.createElementVNode("button",{onClick:a[15]||(a[15]=(...e)=>o.startCalculate&&o.startCalculate(...e))},"开始计算")]),e.createElementVNode("view",{class:"result-tab-list flex-row"},[e.createElementVNode("text",{class:e.normalizeClass(["item",1==r.resultTab?"active":""]),onClick:a[16]||(a[16]=e=>o.switchResultTab(1))},"等额本息",2),e.createElementVNode("text",{class:e.normalizeClass(["item",2==r.resultTab?"active":""]),onClick:a[17]||(a[17]=e=>o.switchResultTab(2))},"等额本金",2)]),e.createElementVNode("view",{class:"flex-column mt-40"},[e.createElementVNode("view",{class:"flex-row result-head force-center mb-20"},[e.createElementVNode("view",{class:"item"},"期数"),e.createElementVNode("view",{class:"item"},"月供总额"),e.createElementVNode("view",{class:"item"},"月供本金"),e.createElementVNode("view",{class:"item"},"月供利息"),e.createElementVNode("view",{class:"item"},"剩余还款总额")]),e.createElementVNode("view",{class:"result-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.resultList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"row flex-row"},[e.createElementVNode("view",{class:"item"},e.toDisplayString(a+1),1),e.createElementVNode("view",{class:"item"},e.toDisplayString(t.yuegong),1),e.createElementVNode("view",{class:"item"},e.toDisplayString(t.yuebenjin),1),e.createElementVNode("view",{class:"item"},e.toDisplayString(t.yuelixi),1),e.createElementVNode("view",{class:"item"},e.toDisplayString(t.leftFund),1)])))),256))])])]),e.createElementVNode("view",{class:"fill-box-60"})],64)}]]);const l=a({data:()=>({currentTab:1,providentFund:{amount:0,interestRate:0,years:0}}),onLoad(){},methods:{switchTab(e){this.currentTab=e},navigateTo(e,t=null){uni.setStorageSync("queryString",t),uni.navigateTo({url:e})},startCalculate(){2!=this.currentTab||this.providentFund}}},[["render",function(t,a,n,l,r,o){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"tab-list flex-row"},[e.createElementVNode("text",{class:e.normalizeClass(["item",1==r.currentTab?"active":""]),onClick:a[0]||(a[0]=e=>o.switchTab(1))},"等额本息",2),e.createElementVNode("text",{class:e.normalizeClass(["item",2==r.currentTab?"active":""]),onClick:a[1]||(a[1]=e=>o.switchTab(2))},"等额本金",2)]),1==r.currentTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"flex-column"},[e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"贷款总额"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("input")])]),e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"按揭年数"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("input")])]),e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"年利率"),e.createElementVNode("view",{class:"right"},[e.createElementVNode("input")])])])):e.createCommentVNode("",!0),2==r.currentTab?(e.openBlock(),e.createElementBlock("view",{key:1,class:"flex-column"},[e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"贷款总额"),e.createElementVNode("view",{class:"right"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>r.providentFund.amount=e)},null,512),[[e.vModelText,r.providentFund.amount]])])]),e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"按揭年数"),e.createElementVNode("view",{class:"right"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>r.providentFund.years=e)},null,512),[[e.vModelText,r.providentFund.years]])])]),e.createElementVNode("view",{class:"flex-row"},[e.createElementVNode("view",{class:"left"},"年利率"),e.createElementVNode("view",{class:"right"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>r.providentFund.interestRate=e)},null,512),[[e.vModelText,r.providentFund.interestRate]])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",null,[e.createElementVNode("button",{onClick:a[5]||(a[5]=(...e)=>o.startCalculate&&o.startCalculate(...e))},"返回")])])}]]);__definePage("pages/index/index",n),__definePage("pages/index/calculate",l);const r={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:o,Vuex:i,Pinia:s}={app:e.createVueApp(r)};uni.Vuex=i,uni.Pinia=s,o.provide("__globalStyles",__uniConfig.styles),o._component.mpType="app",o._component.render=()=>{},o.mount("#app")}(Vue);
